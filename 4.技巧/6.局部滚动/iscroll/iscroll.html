<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>iScroll demo: simple</title>
    <meta name="viewport" content="width=device-width"/>
    <script type="text/javascript" src="iscroll.js"></script>

    <script type="text/javascript">
        var myScroll = null;
        var generatedCount = 0;
        function pullUpAction () {
            console.log(1)
            var el, li, i;
            el = document.getElementById('thelist');
            for (i=0; i<15; i++) {
                li = document.createElement('li');
                li.innerText = 'Generated row ' + (++generatedCount);
                el.appendChild(li, el.childNodes[0]);
            }

            myScroll.refresh();		// Remember to refresh when contents are loaded (ie: on ajax completion)!
        }

        window.onload = function() {
            myScroll = new iScroll('wrapper', {
                onScrollEnd: function () {
                    //如果滑动到底部，则加载更多数据（距离最底部10px高度）
                    if (this.y == this.maxScrollY) {
                        pullUpAction();
                    }
                }
            });
            pullUpAction();
        }

        document.addEventListener('touchmove', function (e) {
            e.preventDefault();
        }, false);
    </script>

    <style type="text/css" media="all">
        html,body,#wrapper{height:100%;}

        #thelist li {
            height:50px;
            line-height:50px;
        }

    </style>
</head>
<body>
<div id="wrapper">
    <ul id="thelist">
    </ul>
</div>
</body>
</html>